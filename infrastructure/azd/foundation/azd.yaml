name: tc-cloudgames-foundation
metadata:
  template: tc-cloudgames-foundation@0.0.1

# Use existing resource group and location from Terraform
resourceGroup: ${AZURE_RESOURCE_GROUP}
location: ${AZURE_LOCATION}

# No infrastructure - all created by Terraform
# AZD is just an orchestrator for future Container Apps

# Hooks for validation and information
hooks:
  predeploy:
    shell: sh
    run: |
      echo "ğŸ” TC CloudGames Foundation - AZD Orchestrator"
      echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
      echo "ğŸ“‹ Terraform Foundation Resources (Already Created):"
      echo "   â€¢ Resource Group: ${AZURE_RESOURCE_GROUP}"
      echo "   â€¢ Location: ${AZURE_LOCATION}"
      echo "   â€¢ Log Analytics: ${LOG_ANALYTICS_WORKSPACE_ID}"
      echo "   â€¢ Container App Environment: Ready for apps"
      echo "   â€¢ Key Vault: Empty, ready for secrets"
      echo "   â€¢ PostgreSQL, Redis, ACR, Service Bus: Ready"
      echo ""
      echo "ğŸš€ Next Steps:"
      echo "   â€¢ Users API: Deploy with dedicated AZD"
      echo "   â€¢ Games API: Deploy with dedicated AZD" 
      echo "   â€¢ Payments API: Deploy with dedicated AZD"
      echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
      
  postdeploy:
    shell: sh
    run: |
      echo "âœ… Foundation orchestration complete!"
      echo "ğŸ”— All infrastructure ready for microservices deployment."

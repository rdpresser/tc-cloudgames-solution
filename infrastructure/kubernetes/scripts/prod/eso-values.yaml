# External Secrets Operator Helm values for Azure Workload Identity
# This file configures ESO to use Azure Workload Identity for authentication

installCRDs: true

resources:
  limits:
    cpu: 200m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

serviceAccount:
  create: true
  name: external-secrets
  annotations:
    azure.workload.identity/client-id: "${ESO_CLIENT_ID}"
    azure.workload.identity/tenant-id: "${ESO_TENANT_ID}"

# Pod labels for Workload Identity
podLabels:
  azure.workload.identity/use: "true"

# Webhook configuration
webhook:
  port: 9443
  serviceAccount:
    create: true
    name: external-secrets-webhook
    annotations:
      azure.workload.identity/client-id: "${ESO_CLIENT_ID}"
      azure.workload.identity/tenant-id: "${ESO_TENANT_ID}"
  podLabels:
    azure.workload.identity/use: "true"

certController:
  serviceAccount:
    create: true
    name: external-secrets-cert-controller
    annotations:
      azure.workload.identity/client-id: "${ESO_CLIENT_ID}"
      azure.workload.identity/tenant-id: "${ESO_TENANT_ID}"
  podLabels:
    azure.workload.identity/use: "true"


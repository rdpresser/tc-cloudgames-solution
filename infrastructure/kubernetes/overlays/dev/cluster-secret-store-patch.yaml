# ClusterSecretStore for dev environment
# This overrides the base configuration with dev-specific values
# Note: ClusterSecretStore is cluster-scoped, so namespace is ignored
apiVersion: external-secrets.io/v1
kind: ClusterSecretStore
metadata:
  name: azure-keyvault
  labels:
    app.kubernetes.io/part-of: cloudgames
    app.kubernetes.io/component: secrets
    environment: dev
spec:
  provider:
    azurekv:
      vaultUrl: "https://tccloudgamesdevcr8nkv.vault.azure.net"
      # tenantId inferred from Workload Identity annotation on the ServiceAccount
      authSecretRef:
        clientId:
          name: azure-sp-credentials
          namespace: external-secrets
          key: clientId
        clientSecret:
          name: azure-sp-credentials
          namespace: external-secrets
          key: clientSecret


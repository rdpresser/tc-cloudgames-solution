# ClusterSecretStore for dev environment
# This overrides the base configuration with dev-specific values
# Note: ClusterSecretStore is cluster-scoped, so namespace is ignored
apiVersion: external-secrets.io/v1
kind: ClusterSecretStore
metadata:
  name: azure-keyvault
  labels:
    app.kubernetes.io/part-of: cloudgames
    app.kubernetes.io/component: secrets
    environment: dev
spec:
  provider:
    azurekv:
      vaultUrl: "https://tccloudgamesdevcr8nkv.vault.azure.net"
      # Use Workload Identity for authentication (no secrets required)
      authType: WorkloadIdentity

      # Reference to the ServiceAccount with Workload Identity annotation
      # The ServiceAccount must have: azure.workload.identity/client-id annotation
      serviceAccountRef:
        name: external-secrets-operator
        namespace: external-secrets

